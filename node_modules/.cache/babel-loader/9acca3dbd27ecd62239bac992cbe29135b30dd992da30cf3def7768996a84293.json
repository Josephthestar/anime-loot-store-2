{"ast":null,"code":"var _jsxFileName = \"/Users/josephrihan/Desktop/sei-cafe/src/pages/EntryDetailPage/EntryDetailPage.jsx\",\n  _s = $RefreshSig$();\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { useState, useEffect, useCallback } from 'react';\nimport { getEntryById } from '../../utilities/entries-service';\nimport { deleteEntry, updateEntry } from \"../../utilities/entries-api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useParams } from 'react-router-dom';\nimport EditEntryForm from '../../components/EditEntryForm/EditEntryForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EntryDetailPage() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [entry, setEntry] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const navigate = useNavigate();\n  const fetchEntryDetails = useCallback(async () => {\n    try {\n      const entryDetails = await getEntryById(id);\n      setEntry(entryDetails);\n    } catch (error) {\n      console.error('Error fetching anime-loot details:', error);\n    }\n  }, [id]);\n  useEffect(() => {\n    fetchEntryDetails();\n  }, [fetchEntryDetails]);\n  async function handleDeleteEntry(id) {\n    try {\n      await deleteEntry(id);\n      navigate('/entries');\n    } catch (error) {\n      console.error('Error deleting entry:', error);\n    }\n  }\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toISOString().split('T')[0];\n  };\n  async function handleUpdateEntry(updatedData) {\n    console.log(\"handleUpdateEntry called with id:\", id);\n    console.log(\"updatedData:\", updatedData);\n    try {\n      await updateEntry(entry._id, updatedData);\n      // Refresh the entry details after updating\n      fetchEntryDetails();\n      setIsEditing(false); // After update, set isEditing to false to display details again\n    } catch (error) {\n      console.error('Error updating entry:', error);\n    }\n  }\n  if (!entry) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 14\n    }, this);\n  }\n\n  // Function to open the \"Try it out\" URL in a new tab\n  function handleTryItOut(url) {\n    window.open(url, \"_blank\", \"noopener noreferrer\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shipping Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(EditEntryForm, {\n      entry: entry,\n      handleUpdateEntry: handleUpdateEntry\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-card\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '18rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: entry.details.imgURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: entry.details.animeloot\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Name:\", entry.details.entry]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Shipping Address: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 28\n            }, this), entry.details.shippingaddress]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Apartment Number: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 28\n            }, this), entry.details.apartmentnumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Order: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 28\n            }, this), formatDate(entry.details.ReleasedDate)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Select Style for Additional $10: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 28\n            }, this), entry.details.Cons]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setIsEditing(true),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDeleteEntry(entry._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => handleTryItOut(entry.details.tryURL),\n            children: \"Try it out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n}\n_s(EntryDetailPage, \"F0LTwZp3E91yzzmxpzkykFFa6yY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EntryDetailPage;\nvar _c;\n$RefreshReg$(_c, \"EntryDetailPage\");","map":{"version":3,"names":["Button","Card","useState","useEffect","useCallback","getEntryById","deleteEntry","updateEntry","useNavigate","useParams","EditEntryForm","EntryDetailPage","id","entry","setEntry","isEditing","setIsEditing","navigate","fetchEntryDetails","entryDetails","error","console","handleDeleteEntry","formatDate","dateString","date","Date","toISOString","split","handleUpdateEntry","updatedData","log","_id","handleTryItOut","url","window","open","width","details","imgURL","animeloot","shippingaddress","apartmentnumber","ReleasedDate","Cons","tryURL"],"sources":["/Users/josephrihan/Desktop/sei-cafe/src/pages/EntryDetailPage/EntryDetailPage.jsx"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { useState, useEffect, useCallback } from 'react';\nimport { getEntryById } from '../../utilities/entries-service';\nimport { deleteEntry, updateEntry } from \"../../utilities/entries-api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useParams } from 'react-router-dom';\nimport EditEntryForm from '../../components/EditEntryForm/EditEntryForm';\n\n\nexport default function EntryDetailPage() {\n    const { id } = useParams();\n    const [entry, setEntry] = useState(null);\n    const [isEditing, setIsEditing] = useState(false);\n    const navigate = useNavigate();\n  \n    const fetchEntryDetails = useCallback(async () => {\n      try {\n        const entryDetails = await getEntryById(id);\n        setEntry(entryDetails);\n      } catch (error) {\n        console.error('Error fetching anime-loot details:', error);\n      }\n    }, [id]);\n  \n    useEffect(() => {\n      fetchEntryDetails();\n    }, [fetchEntryDetails]);\n  \n    async function handleDeleteEntry(id) {\n      try {\n        await deleteEntry(id);\n        navigate('/entries');\n      } catch (error) {\n        console.error('Error deleting entry:', error);\n      }\n    }\n  \n    const formatDate = (dateString) => {\n      const date = new Date(dateString);\n      return date.toISOString().split('T')[0];\n    }\n\n    async function handleUpdateEntry(updatedData) {\n        console.log(\"handleUpdateEntry called with id:\", id);\n        console.log(\"updatedData:\", updatedData);\n        try {\n          await updateEntry(entry._id, updatedData);\n          // Refresh the entry details after updating\n          fetchEntryDetails();\n          setIsEditing(false); // After update, set isEditing to false to display details again\n        } catch (error) {\n          console.error('Error updating entry:', error);\n        }\n      }\n  \n    if (!entry) {\n      return <div>Loading...</div>;\n    }\n\n      // Function to open the \"Try it out\" URL in a new tab\n    function handleTryItOut(url) {\n    window.open(url, \"_blank\", \"noopener noreferrer\");\n    }\n  \n    return (\n      <>\n        <h1>Shipping Address</h1>\n        {isEditing ? (\n          <EditEntryForm entry={entry} handleUpdateEntry={handleUpdateEntry} />\n        ) : (\n          <div className=\"detail-card\" >\n            <Card style={{ width: '18rem' }}>\n              <Card.Img variant=\"top\" src={entry.details.imgURL} />\n              <Card.Body>\n                <Card.Title>{entry.details.animeloot}</Card.Title>\n                <Card.Text>Name:{entry.details.entry}</Card.Text>\n                <Card.Text><b>Shipping Address: </b>{entry.details.shippingaddress}</Card.Text>\n                <Card.Text><b>Apartment Number: </b>{entry.details.apartmentnumber}</Card.Text>\n                <Card.Text><b>Order: </b>{formatDate(entry.details.ReleasedDate)}</Card.Text>\n                <Card.Text><b>Select Style for Additional $10: </b>{entry.details.Cons}</Card.Text>\n                <Button onClick={() => setIsEditing(true)}>Edit</Button>\n                <Button onClick={() => handleDeleteEntry(entry._id)}>Delete</Button>\n                \n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleTryItOut(entry.details.tryURL)}\n                >\n                  Try it out\n                </Button>\n              </Card.Body>\n            </Card>\n          </div>\n        )}\n      </>\n    );\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}